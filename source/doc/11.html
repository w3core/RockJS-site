<h2 id="/doc/11">Routing</h2>
<p>By default, all pages that was defined has own route that based on the page name.
But practically, you can overload it for make a pretty semantic URL considering
to one or more specific parameters.</p>
<p>Page routing can be described by two different ways.
For most of cases you can define route as a string with named segments.
But in some cases it can be not enough. Then route can be defined as regular expression.</p>
<h3 id="/doc/11.1">Route as a string</h3>
<p>Definition of route as a string provides the following features.</p>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>/user/:id(/post/:postId(/*))</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span></span>
</div></pre>
<h4 id="/doc/11.1.1">Named segments</h4>
<p><code>:id</code> (in the example above) is a named segment.</p>
<p>A named segment starts with <code>:</code> followed by the name.
The name must be at least one character in the regex character set <code>a-zA-Z0-9</code>.
When matching, a named segment consumes all characters in the regex character set
<code>a-zA-Z0-9-_~ %</code>. A named segment match stops at <code>/</code>, <code>.</code> but not at <code>_</code>, <code>-</code>, <code>%</code>.
If a named segment name occurs more than once in the pattern string, then the multiple
results are stored in an array on the returned object.</p>
<h4 id="/doc/11.1.2">Optional segments</h4>
<p><code>(/post/:postId(/*))</code> (in the example above) is an optional segment.</p>
<p>To make part of a pattern optional just wrap it in <code>(</code> and <code>)</code>.
Optional named segments are stored in the corresponding property only if they are present
in the source string.</p>
<h4 id="/doc/11.1.3">Wildcards</h4>
<p><code>*</code> (in the example above) is a wildcard matches.
Wildcard matches will be collected to the <code>_</code> property.
If there is only one wildcard then <code>_</code> contains the matching string. Otherwise <code>_</code> contains
an array of matching strings.</p>
<h3 id="/doc/11.2">Route as a regular expression</h3>
<p>If the pattern was created from a regex an array of the captured groups is returned on a match.
When making a pattern from a regex you can pass an array of keys as the second argument.
For this case will be returned an objects on match with each key mapped to a captured value.</p>
<pre class="editor-colors lang-javascript"><div class="line"><span class="syntax--source syntax--js"><span class="syntax--meta syntax--function-call syntax--js"><span class="syntax--entity syntax--name syntax--function syntax--js"><span>route</span></span><span class="syntax--meta syntax--arguments syntax--js"><span class="syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js"><span>(</span></span><span class="syntax--string syntax--regexp syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>/</span></span><span class="syntax--keyword syntax--control syntax--anchor syntax--regexp"><span>^</span></span><span class="syntax--constant syntax--character syntax--escape syntax--backslash syntax--regexp"><span>\/</span></span><span>api</span><span class="syntax--constant syntax--character syntax--escape syntax--backslash syntax--regexp"><span>\/</span></span><span class="syntax--meta syntax--group syntax--regexp"><span class="syntax--punctuation syntax--definition syntax--group syntax--regexp"><span>(</span></span><span class="syntax--constant syntax--other syntax--character-class syntax--set syntax--regexp"><span class="syntax--punctuation syntax--definition syntax--character-class syntax--regexp"><span>[</span></span><span class="syntax--keyword syntax--operator syntax--negation syntax--regexp"><span>^</span></span><span class="syntax--constant syntax--character syntax--escape syntax--backslash syntax--regexp"><span>\/</span></span><span class="syntax--punctuation syntax--definition syntax--character-class syntax--regexp"><span>]</span></span></span><span class="syntax--keyword syntax--operator syntax--quantifier syntax--regexp"><span>+</span></span><span class="syntax--punctuation syntax--definition syntax--group syntax--regexp"><span>)</span><span>(?:</span></span><span class="syntax--constant syntax--character syntax--escape syntax--backslash syntax--regexp"><span>\/</span></span><span class="syntax--meta syntax--group syntax--regexp"><span class="syntax--punctuation syntax--definition syntax--group syntax--regexp"><span>(</span></span><span class="syntax--constant syntax--character syntax--character-class syntax--regexp"><span>\d</span></span><span class="syntax--keyword syntax--operator syntax--quantifier syntax--regexp"><span>+</span></span><span class="syntax--punctuation syntax--definition syntax--group syntax--regexp"><span>)</span></span></span><span class="syntax--punctuation syntax--definition syntax--group syntax--regexp"><span>)</span></span></span><span class="syntax--keyword syntax--operator syntax--quantifier syntax--regexp"><span>?</span></span><span class="syntax--keyword syntax--control syntax--anchor syntax--regexp"><span>$</span></span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>/</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span>&nbsp;</span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>[</span></span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>resource</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--delimiter syntax--object syntax--comma syntax--js"><span>,</span></span><span>&nbsp;</span><span class="syntax--string syntax--quoted syntax--double syntax--js"><span class="syntax--punctuation syntax--definition syntax--string syntax--begin syntax--js"><span>&quot;</span></span><span>id</span><span class="syntax--punctuation syntax--definition syntax--string syntax--end syntax--js"><span>&quot;</span></span></span><span class="syntax--meta syntax--brace syntax--square syntax--js"><span>]</span></span><span class="syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js"><span>)</span></span></span></span></span>
</div><div class="line"><span class="syntax--source syntax--js"><span>&nbsp;</span></span>
</div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span>&nbsp;For&nbsp;&quot;/api/users&quot;&nbsp;returns&nbsp;{resource:&nbsp;&quot;users&quot;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span>&nbsp;For&nbsp;&quot;/api/users/5&quot;&nbsp;returns&nbsp;{resource:&nbsp;&quot;users&quot;,&nbsp;id:&nbsp;&quot;5&quot;}</span></span></span>
</div><div class="line"><span class="syntax--source syntax--js"><span class="syntax--comment syntax--line syntax--double-slash syntax--js"><span class="syntax--punctuation syntax--definition syntax--comment syntax--js"><span>//</span></span><span>&nbsp;For&nbsp;&quot;/api/users/foo&quot;&nbsp;returns&nbsp;null&nbsp;because&nbsp;&quot;id&quot;&nbsp;should&nbsp;be&nbsp;&quot;\d+&quot;</span></span></span>
</div></pre>
